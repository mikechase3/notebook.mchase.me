# Javascript Interactive Websites

## Goals

* Add javascript to make websites more interactive and dynamically change content.
* Understand what the DOM is and what DOM events are.
* Create forums using HTML and validate them with JavaScript.

## Cheatsheet

{% embed url="https://www.codecademy.com/learn/paths/full-stack-engineer-career-path/tracks/fscp-building-interactive-websites-with-javascript/modules/fecp-javascript-interactive-websites/cheatsheet" %}

Good article because my notes don't make sense:

{% embed url="https://www.digitalocean.com/community/tutorials/how-to-add-javascript-to-html" %}



## Using the &lt;script&gt; tag

* You can have HTML reference/call the JS code.

```markup
<body>
	<section class = "container">
  	<img src = "normal.png" id= "myImage">
  	<p onclick="blooming()">Codecademy</p> // Will call blooming() below. 
	</section>

  <!-- Paste your code in the script element below:  -->
  <script>
    function blooming(){
      var image = document.getElementById('myImage');
      if (image.src.match("normal")) {
        image.src = "flower.png";
      } else{
        img.src = "normal.png";
      }
    }
  </script>
```

## Referencing JS in other files

If you want to link code instead of embed it, you can link it using the **src attribute.** Use it like this:

```text
<script src="./exampleScript.js"></script>
```

* This script will look for a file called "exampleScript.js" in the same folder as the index.html file.
* It can also reference [CDNs](https://developer.mozilla.org/en-US/docs/Glossary/CDN).

### Where to Place the Script Tags

* Browsers come equipped with HTML parsers to help render the elements accordingly.
* Elements using the &lt;script&gt; tag are parased in the order they appear in HTML.
* When the HTML parser encounters a `<script>` element, it will load and execute the contents before parsing the res of the HTML.
  * It will not process the next element in the HTML until it loads/executes the &lt;script&gt; element which could cause a delay and poor user experience.
  * Scripts are loaded sequentially, so if one script depends on another, they should be placed in the correct order in the HTML file.

![Here, the watering can will appear before the flower.](../../.gitbook/assets/image%20%28525%29.png)

## The Defer Attribute

* HTML 4 introduced the defer and `async` attributes of the `<script>` elements to improve user wait-times.
* When the HTML parser encounters a script with the `defer` attribute, it'll load the script but defers the execution until it finishes parsing the rest of the HTML file.

### Syntax

Use it when it interacts with the DOM.

```text
<script src="example.js" defer></script> 
```

## The Async Attribute

* The async attribute loads and executes the script asynchronously with the rest of the page. 
* It's useful for scripts that do not depend on each other. 
* Optimizes web page load time well.

### Syntax

```text
<script src="example.js" async></script>
```

## Putting it All Together: First Project

{% embed url="https://www.youtube.com/watch?v=iwNUJU5D3aI" %}



## JS and the DOM

{% embed url="https://www.youtube.com/watch?v=kd8zX-66FS0" %}

* The DOM is a way to model the objects in a document.
* The DOM is a tree data structure. It's the underlying objects that make up the document.
  * It's not just HTML. It could be represented like HTML, but could be generated by react or PHP or JS.
  * There are other types of documents like XML and SVG that are modeled as DOM structures.
  * The DOM is a link between an HTML web page and scripting languages.

![](../../.gitbook/assets/screenshot_2021-07-12-01.30.49_sofhzc.jpg)

## Accessing and Modifying Content

### document.body Object

* References the entire `<body>` of the HTML page.
* The `<body>` element contains all visible content of the page.

### document.createElement\(\) Method

#### The JavaScript `document.createElement()` Method

```text
const newButton = document.createElement("button");
```

The `document.createElement()` method creates and returns a reference to a new Element Node with the specified tag name.

`document.createElement()` does not actually add the new element to the DOM, it must be attached with a method such as `element.appendChild()`.

### document.getElementById\(\) Method

* Returns the element that has the `id` attirbute with the specified value.
* Returns null if no elements with the ID exist.
* Only returns the first element, so make sure to only use an ID once.

```markup
// To save a reference to the element with id 'demo':
const demoElement = document.getElementById('demo');
```

### document.querySelector\(\)

The `.querySelector()` method selects the first child/descendant element that matches its selector argument.

It can be invoked on the `document` object to search the entire document or on a single element instance to search that element’s descendants.

```javascript
// Select the first <div>
const firstDiv = document.querySelector('div');
 
// Select the first .button element inside .main-navigation
const navMenu = document.getElementById('main-navigation');
const firstButtonChild = navMenu.querySelector('.button');
```

### document.removeChild\(\) and "hidden"

* Removes an specified child from a parent.
* The following code removes the first paragraph in a document

```javascript
let paragraph = document.querySelector('p');
document.body.removeChild(paragraph);

//Another example using IDs.
const parent = document.querySelector("#more-destinations");
const child = document.querySelector("#oaxaca");
parent.removeChild(child);
```

* You could instead just hide elements instead of remove it.
* This is not the same as hidden in CSS. Read more in the [MDN docs.](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/hidden)
* Link to [demo](https://www.codecademy.com/paths/full-stack-engineer-career-path/tracks/fscp-building-interactive-websites-with-javascript/modules/fecp-javascript-and-the-dom/lessons/javascript-dom/exercises/remove-element), requires codecademy pro.

```javascript
document.getElementById('sign').hidden = true;
```



### element.appendChild\(\) Method

* Takes an element as a parameter.
* Appends the element as the last child of the parent.
* In the example, the newly created `<li>` element will be appended as the last child of the HTML element with the ID list.

```javascript
let newDestination = document.createElement('li');
newDestination.id = 'oaxaca';
newDestination.innerHTML = 'Oaxaca, Mexico';

let parent = document.getElementById('more-destinations')
parent.appendChild(newDestination); // Append to parent object. Not document.parent
```

### element.InnerHTML

The `element.innerHTML` property can be used to access the HTML markup that makes up an element’s contents.

`element.innerHTML` can be used to access the current value of an element’s contents or to reassign them.

```markup
<box>
  <p>Hello there!</p>
</box>
 
<script>
  const box = document.querySelector('p');
  // Outputs '<p>Hello there!</p>':
  console.log(box.innerHTML)
  // Reassigns the value:
  box.innerHTML = '<p>Goodbye</p>'
</script>
```

### element.style.&lt;css property&gt;

* Modifies the CSS style of that element.
* Follows the `element.style.property` format.
* Note that we use camelCase in Javascript, not hyphens.
* The example below...
  * Selects the first element with a class of blue.
  * Assigns blue as that background color.

```javascript
let blueElement = document.querySelector('.blue');  // .blue is a class in CSS
blueElement.style.backgroundColor = 'blue';

// Alternative formatting
document.querySelector('.blue').style.fontFamily = 'Roboto';

// Corresponding CSS this is affecting
.blue {
  background-color: #270d30;
  margin: 0;
  padding: 0;
}
```



## Using the .onclick

```javascript
let element = document.querySelector("button");

function turnButtonRed (){
  element.style.backgroundColor = 'red';
  element.style.color = 'white';
  element.innerHTML = 'Red Button';
};

/*We are registering the event and giving it a callback that will be 
invoked on the event object, when the node is clicked. What we pass to 
the listener is just a reference to the function, not the invocation of 
that function. It is up to the handler to invoke this when that time comes.*/
element.onclick = turnButtonRed;
```

## Works Cited

Large portions of this were  taken from CodeCademy's [cheatsheet](https://www.codecademy.com/learn/paths/full-stack-engineer-career-path/tracks/fscp-building-interactive-websites-with-javascript/modules/fecp-javascript-and-the-dom/cheatsheet) so I want to acknowledge them. They also word it better than I do, so you'll want to go right there if you're new to this. I re-type sometimes it so it sticks in my brain.

